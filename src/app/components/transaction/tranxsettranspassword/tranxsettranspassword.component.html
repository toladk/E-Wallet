<div class="main-container">
    <div class="container">
        <h5 class="text-center mt-3 mb-4">
            Set Transaction Password !!!
        </h5>
        <form [formGroup]="tranxPasswordForm">
            <div class="card mb-4">
                <div class="card-header">
                    <h6 class="subtitle mb-0">
                        <div class="avatar avatar-40 bg-primary-light text-primary rounded"><span class="material-icons vm">lock</span></div>
                        Set transaction password
                    </h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <div class="az-form-group mt-3">
                                <nz-form-item style="margin-bottom: 9px !important;">
                                    <label class="form-label">Transaction Password</label>
                                    <nz-input-group [nzSuffix]="suffixTemplate">
                                        <input [type]="passwordVisible ? 'text' : 'password'" nz-input placeholder="Password" formControlName="transactionPassword" />
                                    </nz-input-group>
                                    <ng-template #suffixTemplate>
                                        <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
                                    </ng-template>
                                    <div *ngIf="f.transactionPassword.touched && f.transactionPassword.invalid" class="mt-1" style="color: red;">
                                        <div *ngIf="f.transactionPassword.errors.required">Transaction password is required*.</div>
                                    </div>
                                </nz-form-item>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="az-form-group mt-3">
                                <nz-form-item style="margin-bottom: 9px !important;">
                                    <label class="form-label">Confirm Transaction Password</label>
                                    <nz-input-group [nzSuffix]="suffixTemplate">
                                        <input [type]="passwordVisible ? 'text' : 'password'" nz-input placeholder="Password" formControlName="confirmTransactionPassword" />
                                    </nz-input-group>
                                    <ng-template #suffixTemplate>
                                        <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
                                    </ng-template>
                                    <div *ngIf="f.confirmTransactionPassword.touched && f.confirmTransactionPassword.invalid" class="mt-1" style="color: red;">
                                        <div *ngIf="f.confirmTransactionPassword.errors.required">Confirm transaction password is required*.</div>
                                        <div *ngIf="f.confirmTransactionPassword.errors.confirmedValidator">Transaction Password and Confirm Transaction Password must be match*.</div>
                                    </div>
                                </nz-form-item>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <button nz-button nzBlock type="submit" nzType="primary" [disabled]="tranxPasswordForm.value.confirmTransactionPassword === '' ||
                    tranxPasswordForm.value.transactionPassword !== tranxPasswordForm.value.confirmTransactionPassword" (click)="getPasswordOtp()" [nzLoading]="isLoadingBtn" style="border-top-left-radius: 50px; border-top-right-radius: 50px; border-bottom-left-radius: 50px; border-bottom-right-radius: 50px;">Set Password</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- footer-->
<div class="footer">
    <div class="row no-gutters justify-content-center">
        <div class="col-auto">
            <a href="index.html" class="active">
                <i class="material-icons">home</i>
                <p>Home</p>
            </a>
        </div>
        <div class="col-auto">
            <a href="analytics.html" class="">
                <i class="material-icons">insert_chart_outline</i>
                <p>Analytics</p>
            </a>
        </div>
        <div class="col-auto">
            <a href="wallet.html" class="">
                <i class="material-icons">account_balance_wallet</i>
                <p>Wallet</p>
            </a>
        </div>
        <div class="col-auto">
            <a href="shop.html" class="">
                <i class="material-icons">shopping_bag</i>
                <p>Shop</p>
            </a>
        </div>
        <div class="col-auto">
            <a href="profile.html" class="">
                <i class="material-icons">account_circle</i>
                <p>Profile</p>
            </a>
        </div>
    </div>
</div>




<!--  Token Modal-->
<nz-modal [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter" (nzOnCancel)="handleCancel()">
    <ng-template #modalTitle>Enter Token</ng-template>

    <ng-template #modalContent>
        <form [formGroup]="tranxPasswordForm">
            <div class="modal-content">
                <div class="col-12">
                    <div class="form-group float-label active">
                        <div class="row">
                            <div class="col-4 col-md-4">
                                <input type="text" maxlength="2" formControlName="otp1" class="form-control mt-4 mb-2 text-center" placeholder="- -">
                            </div>
                            <div class=" col-4 col-md-4">
                                <input type="text" maxlength="2" formControlName="otp2" class="form-control mt-4 mb-2 text-center" placeholder="- -">
                            </div>
                            <div class=" col-4 col-md-4">
                                <input type="text" maxlength="2" formControlName="otp3" class="form-control mt-4 mb-2 text-center" placeholder="- -">
                            </div>
                        </div>
                        <label class="form-control-label mt-4 mb-2">Token</label>
                    </div>
                </div>
            </div>
        </form>
    </ng-template>

    <ng-template #modalFooter>
        <button nz-button nzType="default" (click)="handleCancel()">Cancel</button>
        <button nz-button nzType="primary" (click)="submitChangeTranxPassword()" [nzLoading]="isConfirmLoading">Submit</button>
    </ng-template>
</nz-modal>
